
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>porespy.generators.cylinders &#8212; PoreSpy  documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.f6b7ca918bee2f46fd9abac01cfb07d5.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1e043a052b0af929e4d8.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="porespy.generators.fractal_noise" href="porespy.generators.fractal_noise.html" />
    <link rel="prev" title="porespy.generators.cylindrical_plug" href="porespy.generators.cylindrical_plug.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">


    
      
      <a class="navbar-brand" href="../../index.html">
        <img src="../../_static/porespy_logo.png" class="logo" alt="logo">
      </a>
      
    

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    
    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Module and Function Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../user_guide.html">
  PoreSpy
 </a>
</li>

        
      </ul>

      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l2 current active">
  <a class="reference internal" href="../generators.html">
   Generators
  </a>
  <ul class="current">
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.blobs.html">
     porespy.generators.blobs
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.bundle_of_tubes.html">
     porespy.generators.bundle_of_tubes
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.cylindrical_plug.html">
     porespy.generators.cylindrical_plug
    </a>
   </li>
   <li class="toctree-l3 current active">
    <a class="current reference internal" href="#">
     porespy.generators.cylinders
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.fractal_noise.html">
     porespy.generators.fractal_noise
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.insert_shape.html">
     porespy.generators.insert_shape
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.lattice_spheres.html">
     porespy.generators.lattice_spheres
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.line_segment.html">
     porespy.generators.line_segment
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.overlapping_spheres.html">
     porespy.generators.overlapping_spheres
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.polydisperse_spheres.html">
     porespy.generators.polydisperse_spheres
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.pseudo_electrostatic_packing.html">
     porespy.generators.pseudo_electrostatic_packing
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.pseudo_gravity_packing.html">
     porespy.generators.pseudo_gravity_packing
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.RSA.html">
     porespy.generators.RSA
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.generators.voronoi_edges.html">
     porespy.generators.voronoi_edges
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../filters.html">
   Filters
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../metrics.html">
   Metrics
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../networks.html">
   Networks
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../dns.html">
   DNS
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../tools.html">
   Tools
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../visualization.html">
   Visualization
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../io.html">
   IO
  </a>
 </li>
</ul>
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    
</nav>


              
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="porespy-generators-cylinders">
<h1>porespy.generators.cylinders<a class="headerlink" href="#porespy-generators-cylinders" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="porespy.generators.cylinders">
<code class="sig-name descname"><span class="pre">cylinders</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncylinders</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">porosity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_max</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_max</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">90</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/porespy/generators/__imgen__.html#cylinders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#porespy.generators.cylinders" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a binary image of overlapping cylinders given porosity OR number
of cylinders.</p>
<p>This is a good approximation of a fibrous mat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>list</em>) – The size of the image to generate in [Nx, Ny, Nz] where N is the
number of voxels. 2D images are not permitted.</p></li>
<li><p><strong>radius</strong> (<em>scalar</em>) – The radius of the cylinders in voxels</p></li>
<li><p><strong>ncylinders</strong> (<em>scalar</em>) – The number of cylinders to add to the domain. Adjust this value to
control the final porosity, which is not easily specified since
cylinders overlap and intersect different fractions of the domain.</p></li>
<li><p><strong>porosity</strong> (<em>scalar</em>) – The targeted value for the porosity of the generated mat. The
function uses an algorithm for predicted the number of required
number of cylinder, and refines this over a certain number of
fractional insertions (according to the ‘iterations’ input).</p></li>
<li><p><strong>phi_max</strong> (<em>scalar</em>) – A value between 0 and 90 that controls the amount that the cylinders
lie <em>out of</em> the XY plane, with 0 meaning all cylinders lie in the XY
plane, and 90 meaning that cylinders are randomly oriented out of the
plane by as much as +/- 90 degrees.</p></li>
<li><p><strong>theta_max</strong> (<em>scalar</em>) – A value between 0 and 90 that controls the amount of rotation <em>in the</em>
XY plane, with 0 meaning all cylinders point in the X-direction, and
90 meaning they are randomly rotated about the Z axis by as much
as +/- 90 degrees.</p></li>
<li><p><strong>length</strong> (<em>scalar</em>) – The length of the cylinders to add.  If <code class="docutils literal notranslate"><span class="pre">None</span></code> (default) then the
cylinders will extend beyond the domain in both directions so no ends
will exist. If a scalar value is given it will be interpreted as the
Euclidean distance between the two ends of the cylinder.  Note that
one or both of the ends <em>may</em> still lie outside the domain, depending
on the randomly chosen center point of the cylinder.</p></li>
<li><p><strong>max_iter</strong> (<em>scalar</em>) – The number of fractional fiber insertions used to target the requested
porosity. By default a value of 3 is used (and this is typically
effective in getting very close to the targeted porosity), but a
greater number can be input to improve the achieved porosity.</p></li>
<li><p><strong>return_fiber_number</strong> (<em>bool</em>) – Determines whether the function will return the number of fibers
along with the image</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>image</strong> – A boolean array with <code class="docutils literal notranslate"><span class="pre">True</span></code> values denoting the pore space</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ND-array</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The cylinders_porosity function works by estimating the number of
cylinders needed to be inserted into the domain by estimating
cylinder length, and exploiting the fact that, when inserting any
potentially overlapping objects randomly into a volume v_total (which
has units of pixels and is equal to dimx x dimy x dimz, for example),
such that the total volume of objects added to the volume is v_added
(and includes any volume that was inserted but overlapped with already
occupied space), the resulting porosity will be equal to
exp(-v_added/v_total).</p>
<p>After intially estimating the cylinder number and inserting a small
fraction of the estimated number, the true cylinder volume is
calculated, the estimate refined, and a larger fraction of cylinders
inserted. This is repeated a number of times according to the
‘max_iter’ argument, yielding an image with a porosity close to
the goal.</p>
</dd></dl>

</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="porespy.generators.cylindrical_plug.html" title="previous page">porespy.generators.cylindrical_plug</a>
    <a class='right-next' id="next-link" href="porespy.generators.fractal_noise.html" title="next page">porespy.generators.fractal_noise</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.1e043a052b0af929e4d8.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2021 PoreSpy Team.<br/>
    </p>
  </div>
</footer>
  </body>
</html>